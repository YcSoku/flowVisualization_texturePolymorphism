(function(){"use strict";onmessage=async function(n){createImageBitmap(n.data[0],{imageOrientation:n.data[1],premultiplyAlpha:"none",colorSpaceConversion:"default"}).then(T=>{const t=T,e=new OffscreenCanvas(t.width,t.height).getContext("webgl2"),r=new Uint8Array(t.width*t.height*4),a=e.createTexture();e.bindTexture(e.TEXTURE_2D,a),e.texImage2D(e.TEXTURE_2D,0,e.RGBA8,t.width,t.height,0,e.RGBA,e.UNSIGNED_BYTE,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR);const E=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,E),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0),e.readPixels(0,0,t.width,t.height,e.RGBA,e.UNSIGNED_BYTE,r),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),e.deleteFramebuffer(E),e.deleteTexture(a),e.flush(),this.postMessage(r.buffer)})}})();
